<!--
  This file is part of ND.JS.
  
  ND.JS is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
  
  ND.JS is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
  
  You should have received a copy of the GNU General Public License
  along with ND.JS. If not, see <http://www.gnu.org/licenses/>.
-->
<!DOCTYPE html>
<html>
 <head>
   <meta http-equiv="content-type" content="text/html; charset=UTF-8">
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
   <title>TFJS matrixBandPart Benchmark</title>
   <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
 </head>
 <body>
   <script type="text/javascript">
'use strict';
function main()
{
  const plot = document.createElement('div');
  document.body.appendChild(plot);

  const sizes = Array.from({ length: 160 }, (_,i) => (i+1)**3 ),
        dt_with = [0.001359599999996135,0.0001352389999956358,0.000050320000009378416,0.00009743599999637808,0.00006032400000549387,0.00007182800000009593,0.00008842000000004192,0.00010213900000962894,0.00013962699999683537,0.00017158300000301097,0.0002359359999973094,0.00026051300000108315,0.0003005390000034822,0.003274275999996462,0.0004539050000021234,0.0005385419999947771,0.0006414800000056857,0.0007805109999899286,0.0008836799999990035,0.001257597000003443,0.0035085070000059203,0.001509009999994305,0.00011457099999825004,0.00011549700000614394,0.00012968500000715721,0.00018033400000422263,0.00013119600000209176,0.0001411119999975199,0.00018999699999403674,0.00020327900000847876,0.00021391099999891594,0.00023030299998936244,0.000267664999992121,0.0003330780000105733,0.00041851399998995474,0.0004042219999973895,0.00043921499999123625,0.00044669000001158564,0.00046043099999951663,0.0004812390000006417,0.00046938999999838414,0.0005093090000009397,0.000644958000004408,0.0007610169999970822,0.0006991410000046017,0.0007075840000034077,0.0006934509999991861,0.0007694579999952112,0.0009195340000005672,0.0009559860000008484,0.0010048289999976987,0.0009897579999960727,0.001174805999995442,0.0010029689999937546,0.001307887999995728,0.0012837690000014846,0.0013954729999968549,0.0014024130000034347,0.0014717369999998483,0.0014644530000077793,0.0016842949999991107,0.0016601950000040234,0.0016484590000036404,0.001864426000000094,0.002239564999996219,0.002469991999998456,0.0022913239999907092,0.002299599000005401,0.003016317000001436,0.0026604629999928877,0.002735079999998561,0.002871964999998454,0.002998925000007148,0.002987705999999889,0.003118006000004243,0.003356905000007828,0.012483407000006991,0.0038340639999951236,0.003796866000004229,0.0037277329999924405,0.007088837000002968,0.00950409300001047,0.004097259000001941,0.004304527999993297,0.0045010999999940396,0.004600064999991446,0.004815933000005316,0.005011201000001165,0.0053061679999955235,0.005312879999997676,0.005429769999987911,0.0055187060000025665,0.005654973999990034,0.0061503079999965845,0.006011661999989883,0.006255086000004667,0.006229999000002863,0.006965154000004986,0.0072597819999937205,0.0071512019999936454,0.0071642450000072135,0.007881270000012592,0.009690902999995159,0.007840374999999768,0.008110809000005248,0.008109993000005488,0.008280332000009367,0.008620567999998456,0.010084260999996332,0.009463363000002573,0.009516071000005467,0.009975037999989582,0.009720949000009568,0.010301124000005074,0.011470120999991196,0.010917469000007259,0.011538210999991862,0.013402686000001267,0.01180732400000852,0.012040592999997898,0.012243333999998867,0.012966899999999441,0.014152388000002247,0.013334533000001102,0.013922743999995874,0.016871834000005036,0.01403186299999652,0.014861718999993173,0.014992884000006597,0.015517332999996143,0.0193399289999943,0.016421300999994854,0.016500077999997302,0.018337492999999084,0.017016082000001917,0.01771268599999894,0.01795698000000266,0.01860197899999912,0.018805300999985775,0.019626390000004903,0.01961436199999298,0.019594436999992467,0.019919670000002953,0.021138461999988065,0.02274284799999441,0.025344499000013457,0.024357534000009763,0.02470619599999918,0.02324315799999749,0.023592147000003023,0.024123926000000212,0.026229778000008083,0.02481457400000363,0.02514294800000789,0.025694137999991654,0.030232620999988285,0.02789567800000077,0.027291190000003553,0.028282162999996217,0.028138384999998378],
        dt_without = [0.004834372999990592,0.0012844380000024103,0.000529540999996243,0.0005071020000032149,0.0007571469999966212,0.0007309709999972256,0.0007597549999918556,0.0008859769999980927,0.0010239180000062333,0.0012567810000036843,0.0015008380000072065,0.003750805000003311,0.0019211150000046473,0.0036629110000067156,0.003527952999997069,0.0019190709999966202,0.0022713179999991552,0.0010755629999912343,0.0014268379999994067,0.002284931999995024,0.0012767710000043736,0.0013757760000007693,0.00141853500000434,0.0015462770000012824,0.0017829579999961425,0.0019973489999974845,0.0019711160000006204,0.003970902999993996,0.0022585620000027122,0.0024117479999986244,0.002578147000007448,0.003133729000008316,0.007816904999999678,0.003920534000004409,0.005514752999995835,0.004867908999993233,0.004239453000001958,0.005358653999996022,0.005897077999994508,0.005376065000004019,0.006584092999997665,0.005308880999989924,0.006720132999995258,0.00600797400000738,0.006445449000006193,0.008591163999997662,0.007286903000000166,0.0071019119999982646,0.007619690999999876,0.008283001999996487,0.00879221200000029,0.008337664999999106,0.008555046000008587,0.009257082999989506,0.010491028000004007,0.01150075900000229,0.011587532000005013,0.012101140999991912,0.011866309000004549,0.015616761999990559,0.013604504000002635,0.013942810000007739,0.014493635000006179,0.016473973999993178,0.01716337100000237,0.017016551000007894,0.01755634199999622,0.0245639119999978,0.02225220000000263,0.023410908000005292,0.027199017999999343,0.02457969500000763,0.02706541599999764,0.02696660100000736,0.027320461000010256,0.027416712000005644,0.03600108699999691,0.02605237799999304,0.02791556400000991,0.028680572000012033,0.02982752699998673,0.03800779999999213,0.03592074299999513,0.03666623000000254,0.04533471700000519,0.03936285199999111,0.04094787100001122,0.04349483199999668,0.038335384999998494,0.03985550000000512,0.04227816899999743,0.04312882199999876,0.051820263000001435,0.04588759199999913,0.05783333200000925,0.05830660799999896,0.049697736000001894,0.05054258999999729,0.05689874399999098,0.057014085999995585,0.06595195299999614,0.0668997820000077,0.06520706300000893,0.07213805999999749,0.06503645499999403,0.06600295400001051,0.0743435240000108,0.0828309120000049,0.08637518800000543,0.07246802499999466,0.07210622899999726,0.07516719399999419,0.07932378099999915,0.08889250299999549,0.0885678179999959,0.09377936899999623,0.09341866799999843,0.10243263900000601,0.10149477199999092,0.09262792199999967,0.10708143800000834,0.09659352399999625,0.11698979200000759,0.12077609699999448,0.10330043299999671,0.11213750899999286,0.1234313439999969,0.11238455999999132,0.13187544699999854,0.13238009999999487,0.12917642799999157,0.14146300400000472,0.15918547000001126,0.12971245399999315,0.1360527529999963,0.14259948499999883,0.16015062200000102,0.1431982849999913,0.14261433199999737,0.15904969100000743,0.1660692820000113,0.17415971900000296,0.15620499699999346,0.16666126700000314,0.17858575400001428,0.16695646800000394,0.1778187590000016,0.18818758600000002,0.17469829800000297,0.1809002720000135,0.18202897400000073,0.1992275529999897,0.18603560000000288,0.19841500500000256,0.21817051399999765,0.20777995199999713,0.22410132000000157,0.210192206000007,0.21693032299997866,0.21700520700000925];

  const data = [{
    type: 'scattergl',
    name: 'With Backend',
    x: sizes,
    y: dt_with
  },{
    type: 'scattergl',
    name: 'Without Backend',
    x: sizes,
    y: dt_without
  },{
    type: 'scattergl',
    name: 'Speedup',
    visible: 'legendonly',
    x: sizes,
    y: dt_without.map( (dt,i) => dt/dt_with[i] )
  }];

  Plotly.plot(
    plot,
    /*data=*/data,
    /*layout=*/{
      title: '<b>TFJS matrixBandPart Comparison</b><br>with vs without backend implementation',
      xaxis: {
        title: 'number of elements'
      },
      yaxis: {
        title: 'time [sec]'
      }
    }
  );


}
main();

   </script>
   <pre>
AMD A10-7850K
16GB DDR3-2666MHz
Ubuntu 18.04
Node v10.12.0
   </pre>
 </body>
</html>